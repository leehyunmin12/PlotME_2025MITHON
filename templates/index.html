<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¼ê¸° ë¶„ì„ ê²°ê³¼ - Plot!Me</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #ffffff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 400px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }

        .header-title {
            font-size: 18px;
            font-weight: bold;
            color: #000000;
        }

        .close-btn {
            width: 24px;
            height: 24px;
            border: none;
            background: none;
            font-size: 18px;
            color: #000000;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            background-color: #f5f5f5;
            border-radius: 4px;
        }

        .card-grade-section {
            background-color: #F3F0FF;
            border-radius: 16px;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .grade-info {
            flex: 1;
        }

        .grade-title {
            font-size: 16px;
            font-weight: bold;
            color: #8B5CF6;
            margin-bottom: 8px;
        }

        .grade-description {
            font-size: 14px;
            color: #A78BFA;
            line-height: 1.4;
        }

        .grade-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: #8B5CF6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ffffff;
            font-size: 24px;
            font-weight: bold;
        }

        .summary-section {
            background-color: #ffffff;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .summary-title {
            font-size: 16px;
            font-weight: bold;
            color: #000000;
            margin-bottom: 8px;
        }

        .summary-date {
            font-size: 14px;
            color: #000000;
            margin-bottom: 16px;
        }

        .summary-content {
            font-size: 14px;
            color: #333333;
            line-height: 1.6;
        }

        .growth-section {
            background-color: #F0FDF4;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .growth-title {
            font-size: 16px;
            font-weight: bold;
            color: #16A34A;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .growth-icon {
            font-size: 20px;
        }

        .growth-items {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .growth-item {
            background-color: #ffffff;
            border-left: 3px solid #22C55E;
            padding: 12px;
            border-radius: 8px;
            font-size: 14px;
            color: #333333;
            line-height: 1.5;
        }

        .emotion-section {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .emotion-title {
            font-size: 16px;
            font-weight: bold;
            color: #000000;
        }

        .emotion-cards {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            scroll-behavior: smooth;
            scrollbar-width: none;
            -ms-overflow-style: none;
            padding-bottom: 8px;
        }

        .emotion-cards::-webkit-scrollbar {
            display: none;
        }

        .emotion-card {
            min-width: 200px;
            height: 160px;
            border-radius: 16px;
            padding: 16px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
        }

        .emotion-card:nth-child(1) {
            background-color: #FFFDD0;
        }

        .emotion-card:nth-child(2) {
            background-color: #F5E6D3;
        }

        .emotion-card:nth-child(3) {
            background-color: #E8F5E8;
        }

        .emotion-card:nth-child(4) {
            background-color: #F0E6FF;
        }

        .emotion-card:nth-child(5) {
            background-color: #FFE6F0;
        }

        .emotion-date {
            font-size: 12px;
            color: #666666;
        }

        .emotion-emoji {
            font-size: 32px;
            text-align: center;
            margin: 8px 0;
        }

        .emotion-quote {
            font-size: 14px;
            font-weight: bold;
            color: #000000;
            text-align: center;
            font-style: italic;
        }
        
        .exit-btn {
            text-decoration: none;
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }
            
            .container {
                max-width: 100%;
                gap: 16px;
            }
            
            .card-grade-section {
                padding: 16px;
            }
            
            .summary-section {
                padding: 16px;
            }

            .growth-section {
                padding: 16px;
            }
            
            .emotion-card {
                min-width: 180px;
                height: 140px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="header-title">ì¼ê¸° ë¶„ì„ ê²°ê³¼</h1>
            <a href="card.html" class="exit-btn">X</a>
        </div>

        <div class="card-grade-section">
            <div class="grade-info">
                <div class="grade-title">ì˜¤ëŠ˜ì˜ ì¹´ë“œ ë“±ê¸‰</div>
                <div class="grade-description">ì•ìœ¼ë¡œ í•œ ë²ˆì˜ ì¹´ë“œë¥¼ ë” ëª¨ìœ¼ë©´ ë‹¤ìŒ ë“±ê¸‰ìœ¼ë¡œ ì˜¬ë¼ê°€ìš”!</div>
            </div>
            <div class="grade-circle">C</div>
        </div>



        <div class="growth-section">
            <div class="growth-title">
                <span class="growth-icon">ğŸ“ˆ</span>
                ì„±ì¥ ì¹´ë“œ ìƒì„±!
            </div>
            <div class="growth-items" id="growthItems">
                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
            </div>
        </div>

        <div class="emotion-section">
            <div class="emotion-title">ì˜¤ëŠ˜ì˜ ê°ì • ì¹´ë“œ</div>
            <div class="emotion-cards">
                <div class="emotion-card">
                    <div class="emotion-date">2025.10.27(ì›”)</div>
                    <div class="emotion-emoji">ğŸ˜¬</div>
                    <div class="emotion-quote">"ì™„ë²½í•˜ì§„ ì•Šì§€ë§Œ"</div>
                </div>
                <div class="emotion-card">
                    <div class="emotion-date">2025.10.26(ì¼)</div>
                    <div class="emotion-emoji">ğŸ˜Š</div>
                    <div class="emotion-quote">"ì˜¤ëŠ˜ë„ í™”ì´íŒ…!"</div>
                </div>
                <div class="emotion-card">
                    <div class="emotion-date">2025.10.25(í† )</div>
                    <div class="emotion-emoji">ğŸ¤”</div>
                    <div class="emotion-quote">"ìƒê°ì´ ë§ì•„ì§€ëŠ” ë‚ "</div>
                </div>
                <div class="emotion-card">
                    <div class="emotion-date">2025.10.24(ê¸ˆ)</div>
                    <div class="emotion-emoji">ğŸ˜Œ</div>
                    <div class="emotion-quote">"í‰ì˜¨í•œ í•˜ë£¨"</div>
                </div>
                <div class="emotion-card">
                    <div class="emotion-date">2025.10.23(ëª©)</div>
                    <div class="emotion-emoji">ğŸ˜…</div>
                    <div class="emotion-quote">"ë˜ ì‹¤ìˆ˜í–ˆë„¤"</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì¼ê¸° ë°ì´í„° (ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ë°›ì•„ì˜¬ ë°ì´í„°)
        const diaryData = {
            today: {
                date: "2025.10.25",
                content: "ì˜¤ëŠ˜ì€ ì•„ì¹¨ë¶€í„° ìœ ë‚œíˆ ê³µê¸°ê°€ ì„ ì„ í–ˆë‹¤. ì°½ë¬¸ì„ ì—´ìë§ˆì ì°¨ê°€ìš´ ë°”ëŒì´ ì‚´ì§ ì–¼êµ´ì„ ìŠ¤ì³¤ê³ , ê·¸ ë°”ëŒ ì†ì— ì„ì¸ ê°€ì„ ëƒ„ìƒˆê°€ ì°¸ ì¢‹ì•˜ë‹¤. ìš”ì¦˜ì€ í•´ê°€ ëŠ¦ê²Œ ëœ¨ê³  ê¸ˆë°© ì§€ëŠ” íƒ“ì— í•˜ë£¨ê°€ ì§§ê²Œ ëŠê»´ì§„ë‹¤. ê·¸ëŸ° ê³„ì ˆì´ë¼ ê·¸ëŸ°ì§€ ê´œíˆ ë§ˆìŒì´ ì¡°ìš©í•´ì§€ëŠ” ê²ƒ ê°™ë‹¤. ì ì‹¬ì¯¤ì—” ì¹´í˜ì— ê°€ì„œ í˜¼ì ì±…ì„ ì½ì—ˆë‹¤. ì°½ê°€ ìë¦¬ì—ì„œ í–‡ë¹›ì´ ë”°ëœ»í•˜ê²Œ ë¹„ì³ì„œ ê¸°ë¶„ì´ ì¢‹ì•˜ê³ , ì»¤í”¼ í–¥ì´ ì”ì”í•˜ê²Œ í¼ì§€ë©´ì„œ ë§ˆìŒì´ í•œê²° ì—¬ìœ ë¡œì›Œì¡Œë‹¤. ì±… ì† ë¬¸ì¥ í•˜ë‚˜í•˜ë‚˜ê°€ ì´ìƒí•˜ê²Œ ë” ë§ˆìŒì— ì™€ë‹¿ëŠ” ë‚ ì´ì—ˆë‹¤. ì§‘ì— ëŒì•„ì˜¤ëŠ” ê¸¸ì—” ë‹¨í’ì´ ì˜ˆì˜ê²Œ ë¬¼ë“  ë‚˜ë¬´ë“¤ì´ ëˆˆì— ë„ì—ˆë‹¤. ë¹¨ê°•, ì£¼í™©, ë…¸ë‘ì´ ì„ì—¬ì„œ ë§ˆì¹˜ ê·¸ë¦¼ ê°™ì•˜ë‹¤. ê´œíˆ ë°œê±¸ìŒì„ ëŠ¦ì¶”ê³  í•œì°¸ì„ ë°”ë¼ë´¤ë‹¤. ì´ëŸ° ìˆœê°„ë“¤ì´ ì•„ë§ˆë„ 'í–‰ë³µ'ì´ë¼ëŠ” ë‹¨ì–´ì— ê°€ì¥ ê°€ê¹Œìš´ ê²Œ ì•„ë‹ê¹Œ ì‹¶ì—ˆë‹¤. ì˜¤ëŠ˜ í•˜ë£¨ëŠ” íŠ¹ë³„í•œ ì¼ì€ ì—†ì—ˆì§€ë§Œ, ì¡°ìš©íˆ ë‚˜ ìì‹ ì„ ëŒì•„ë³´ê³  ë§ˆìŒì„ ì‰¬ê²Œ í•œ í•˜ë£¨ì˜€ë‹¤. ì´ëŸ° í‰ë²”í•œ ë‚ ë“¤ì´ ì˜¤íˆë ¤ ì˜¤ë˜ ê¸°ì–µì— ë‚¨ì„ì§€ë„ ëª¨ë¥´ê² ë‹¤.",
                emotion: "í‰ì˜¨í•¨"
            },
            yesterday: {
                date: "2025.10.24",
                content: "ì˜¤ëŠ˜ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í–ˆë‹¤. ì²˜ìŒì—” ì–´ë ¤ì›Œ ë³´ì˜€ì§€ë§Œ ì°¨ê·¼ì°¨ê·¼ í•´ë³´ë ¤ê³  ë…¸ë ¥í–ˆë‹¤. ì•„ì§ ë¶€ì¡±í•œ ë¶€ë¶„ì´ ë§ì§€ë§Œ ê³„ì† í•´ë´ì•¼ê² ë‹¤.",
                emotion: "ì¤‘ë¦½"
            }
        };

        // ì„±ì¥ í¬ì¸íŠ¸ ë¶„ì„ í•¨ìˆ˜
        function analyzeGrowth() {
            const today = diaryData.today.content;
            const yesterday = diaryData.yesterday.content;

            // ê¸ì •ì  ê°ì • í‚¤ì›Œë“œ
            const positiveKeywords = ["ì¢‹ì•˜ë‹¤", "ì—¬ìœ ", "í–‰ë³µ", "ë”°ëœ»í•˜", "í‰ì˜¨", "ê¸°ë¶„ì´ ì¢‹"];
            const mindfulKeywords = ["ëŒì•„ë³´", "ë§ˆìŒì„ ì‰¬", "ì„±ì°°", "ë°”ë¼ë´¤", "ì—¬ìœ "];
            const yesterdayStruggleKeywords = ["ì–´ë ¤ì›Œ", "ë¶€ì¡±"];

            let analysis = "";

            // 1. ê°ì • ìƒíƒœ ê°œì„  ê°ì§€
            const hasPositiveEmotions = positiveKeywords.some(keyword => today.includes(keyword));
            const hadStruggle = yesterdayStruggleKeywords.some(keyword => yesterday.includes(keyword));

            if (hasPositiveEmotions && hadStruggle) {
                analysis += "ì–´ì œëŠ” ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¡œ ì–´ë ¤ì›€ì„ ëŠê¼ˆì§€ë§Œ, ì˜¤ëŠ˜ì€ ê·¸ëŸ° ë¶ˆì•ˆê°ì—ì„œ ë²—ì–´ë‚˜ ë§ˆìŒì˜ ì—¬ìœ ë¥¼ ì°¾ì•˜ì–´ìš”. ";
            }

            // 2. ìê¸° ëŒë´„ê³¼ ë§ˆìŒì±™ê¹€
            const hasMindfulness = mindfulKeywords.some(keyword => today.includes(keyword));
            if (hasMindfulness) {
                analysis += "ë°”ìœ ì¼ìƒ ì†ì—ì„œë„ ìì‹ ì˜ ë§ˆìŒê³¼ ê°ì •ì— ì§‘ì¤‘í•˜ê³ , ì‘ì€ ìˆœê°„ë“¤ì„ ì†Œì¤‘íˆ ì—¬ê¸°ëŠ” ìê¸° ëŒë´„ì´ ëŠ˜ì—ˆì–´ìš”. ";
            }

            // 3. ê°ì‚¬ì™€ ê¸ì •ì  ì‚¬ê³ 
            if (today.includes("í–‰ë³µ") && today.includes("í‰ë²”í•œ")) {
                analysis += "íŠ¹ë³„í•œ ì¼ì´ ì—†ì–´ë„ ê·¸ ìˆœê°„ì„ ì¦ê¸°ê³  ê°ì‚¬í•  ì¤„ ì•„ëŠ” ë§ˆìŒì´ ìƒê²¼ì–´ìš”. ";
            }

            // 4. ë¯¸ì  ê°ìˆ˜ì„± ì¦ê°€
            if (today.includes("ë‹¨í’") && today.includes("ê·¸ë¦¼") && today.includes("ë°œê±¸ìŒì„ ëŠ¦ì¶”")) {
                analysis += "ì£¼ë³€ì˜ ì•„ë¦„ë‹¤ì›€ì„ ë” ì„¸ì‹¬í•˜ê²Œ ëŠë¼ê³  ê·¸ ìˆœê°„ì„ ìŒë¯¸í•˜ë ¤ëŠ” íƒœë„ê°€ ì„±ìˆ™í•´ì¡Œì–´ìš”. ";
            }

            if (analysis === "") {
                analysis = "ë§¤ì¼ ë‹¤ë¥¸ ê²½í—˜ì„ í•˜ë©´ì„œ ì²œì²œíˆ ì„±ì¥í•˜ê³  ìˆì–´ìš”. ì˜¤ëŠ˜ ê°™ì€ í‰ì˜¨í•œ í•˜ë£¨ë„ ë‹¹ì‹ ì˜ ë§ˆìŒì„ ë” í’ìš”ë¡­ê²Œ ë§Œë“œëŠ” ìì‚°ì´ ë  ê±°ì˜ˆìš”.";
            }

            return analysis;
        }

        // ì„±ì¥ í¬ì¸íŠ¸ ë Œë”ë§
        function renderGrowthPoints() {
            const growthAnalysis = analyzeGrowth();
            const growthContainer = document.getElementById('growthItems');
            
            growthContainer.innerHTML = `<div class="growth-item">${growthAnalysis}</div>`;
        }

        // ë‹«ê¸° ë²„íŠ¼
        function closeAnalysis() {
            if (confirm('ì¼ê¸° ë¶„ì„ ê²°ê³¼ë¥¼ ë‹«ìœ¼ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                window.history.back();
            }
        }

        // ê°ì • ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸
        document.querySelectorAll('.emotion-card').forEach(card => {
            card.addEventListener('click', function() {
                const date = this.querySelector('.emotion-date').textContent;
                const quote = this.querySelector('.emotion-quote').textContent;
                alert(`${date}\n${quote}`);
            });
        });

        // ESC í‚¤ë¡œ ë‹«ê¸°
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeAnalysis();
            }
        });

        // í„°ì¹˜ ìŠ¤ì™€ì´í”„ ì§€ì› (ê°ì • ì¹´ë“œ)
        let startX = 0;
        let isScrolling = false;

        document.querySelector('.emotion-cards').addEventListener('touchstart', function(e) {
            startX = e.touches[0].clientX;
            isScrolling = true;
        });

        document.querySelector('.emotion-cards').addEventListener('touchmove', function(e) {
            if (!isScrolling) return;
            e.preventDefault();
        });

        document.querySelector('.emotion-cards').addEventListener('touchend', function(e) {
            if (!isScrolling) return;
            
            const endX = e.changedTouches[0].clientX;
            const diffX = startX - endX;
            
            if (Math.abs(diffX) > 50) {
                const container = this;
                const scrollAmount = 200;
                
                if (diffX > 0) {
                    container.scrollBy({
                        left: scrollAmount,
                        behavior: 'smooth'
                    });
                } else {
                    container.scrollBy({
                        left: -scrollAmount,
                        behavior: 'smooth'
                    });
                }
            }
            
            isScrolling = false;
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì„±ì¥ í¬ì¸íŠ¸ ë Œë”ë§
        document.addEventListener('DOMContentLoaded', renderGrowthPoints);
    </script>
</body>
</html>